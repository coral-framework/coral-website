<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta content="width=device-width, initial-scale=1.0" name=viewport><title>co.IObject | Coral · Reference · Modules · Coral (co)</title><link href="../../../../assets/stylesheets/style.css" media=screen rel=stylesheet /></meta></meta></head><body class="reference reference_modules reference_modules_co reference_modules_co_IObject reference_modules_co_IObject_index"><header class="navbar navbar-default navbar-fixed-top" role=navigation><div class=container><div class=navbar-header><button class=navbar-toggle data-target=".navbar-collapse" data-toggle=collapse type=button><span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button><a class=brand href="/"><img class=brand src="../../../../assets/images/coral-logo.svg"/></a></div><nav class="collapse navbar-collapse" role=navigation><ul class="nav navbar-nav"><li><a href="/guides/getting-started"><i class=icon-enter></i> Get Started</a></li><li><a href="/guides"><i class=icon-book></i> Guides</a></li><li class=active><a href="/reference"><i class=icon-gears></i> Reference</a></li><li><a href="/community"><i class=icon-users></i> Community</a></li></ul><div class=navbar-right id=search-widget><i class=icon-search></i><input class="form-control searchbox" placeholder="Search the API and Pages — press 's'"/></div></nav></div></header><div class=container><div class=row><div class="col-md-3 hidden-print" role=complementary><div class=sidebar><div class=api id=toc><ul class="nav level-1"><li><a href="#_top">co.IObject</a></li><ul class="nav level-2"><li><a href="#_hierarchy"><i class=icon-hierarchy></i> Hierarchy</a></li><li><a href="#_fields"><i class=icon-field></i> Fields</a><ul class="nav level-3"><li><a class=mono href="#component">component</a></li></ul></li><li><a href="#_methods"><i class=icon-method></i> Methods</a><ul class="nav level-3"><li><a class=mono href="#getServiceAt">getServiceAt</a></li><li><a class=mono href="#setServiceAt">setServiceAt</a></li></ul></li><li><a href="#_cpp"><i class=icon-code></i> Embedded C++</a></li></ul></ul></div></div></div><div class=col-md-9 role=main><a id=_top></a><ol class=breadcrumb><li><a href="/"> Coral</a></li><li><a href="/reference">Reference</a></li><li><a href="/reference/modules">Modules</a></li><li><a href="/reference/modules/co">Coral Module</a></li><li class=active>co.IObject</li></ol><div class=page-header><h1>co.IObject<small>interface</small></h1></div><div class=doc><p class=lead>Provides object identity and reflection for every component instance.</p> <div class=hl><p>In Coral terminology, an <em>object</em> is an instance of a component. Objects are the underlying building blocks of an application. Although the application <em>works</em> in terms of services, it is ultimately <em>built</em> in terms of objects. The decoupling of services and objects (or interfaces and components) promotes reuse and results in more adaptable architectures.</p> <p>Every object exists to <em>provide services</em> through its ports, and by design <strong>all objects must provide</strong> <a href="/reference/modules/co/IObject" class=nc>co.IObject</a> at the first port.</p> <p>An object may also need to <em>use services</em> from other objects, which poses the question of <em>how it should obtain references to external services</em>. Our advice is that every (or most) service dependencies should be made explicit—to support dependency injection—through a <em>receptacle</em>, which is a port that works like a field.</p> <p><em>(Ports and fields are very similar, so both will merge in the future.)</em></p> </div></div><ul class=meta><li><i class="fa fa-fw fa-tags"></i><strong>Tags:</strong><ul class=tag-list><li><a href="/reference/modules/co#component-model">Component Model</a></li></ul></li><li><i class="fa fa-fw fa-link"></i><strong>Referenced from 3 types</strong>: <a href="/reference/modules/co/IReflector" class=nc>co.IReflector</a>, <a href="/reference/modules/co/IService" class=nc>co.IService</a>, <a href="/reference/modules/lua/IInterceptor" class=nc>lua.IInterceptor</a>.</li></ul><h2 id=_hierarchy><i class=icon-hierarchy></i> Hierarchy</h2><div class=hierarchy><ul><li><span><a href="/reference/modules/co/IService" class=nc>co.IService</a></span>Base of all interfaces. Represents a service provided by an object. <ul><li><span><strong>co.IObject</strong></span>Provides object identity and reflection for every component instance. </li></ul></li></ul></div><h2 id=_fields><i class=icon-field></i> Fields</h2><div class=member-list><div class="member hl" id=component><div class=proto><span class=k>readonly</span> <a href="/reference/modules/co/IComponent" class=nc>co.IComponent</a> <span class="heading nv">component</span> </div><div class=doc><p class=lead>The component from which this object was created.</p> </div></div></div><h2 id=_methods><i class=icon-method></i> Methods</h2><div class=member-list><div class="member hl collapsible" id=getServiceAt><div class=proto data-target="#getServiceAt_rest" data-toggle=collapse><p><a href="/reference/modules/co/IService" class=nc>co.IService</a> <span class="heading nf">getServiceAt</span><span class=paren>(</span><span class=k>in</span>&nbsp;<a href="/reference/modules/co/IPort" class=nc>co.IPort</a>&nbsp;<span class=nl>port</span><span class=paren>)</span></p></div><div class=doc><p class=lead>Returns the service provided-by or bound-to a <code>port</code> in this object.</p> <div class="collapse in" id=getServiceAt_rest><p>The result can only be NULL if the port is a <em>receptacle</em> (it would indicate that no service is bound to the port).</p> <ul class=raises> <li><a href="/reference/modules/co/NoSuchPortException" class=nc>co.NoSuchPortException</a> if the <code>port</code> is invalid.</li> </ul> </div></div></div><div class="member hl collapsible" id=setServiceAt><div class=proto data-target="#setServiceAt_rest" data-toggle=collapse><p><span class=k>void</span> <span class="heading nf">setServiceAt</span><span class=paren>(</span><span class=k>in</span>&nbsp;<a href="/reference/modules/co/IPort" class=nc>co.IPort</a>&nbsp;<span class=nl>receptacle</span>, <span class=k>in</span>&nbsp;<a href="/reference/modules/co/IService" class=nc>co.IService</a>&nbsp;<span class=nl>service</span><span class=paren>)</span></p></div><div class=doc><p class=lead>Binds a <code>service</code> to a <code>receptacle</code> in this object.</p> <div class="collapse in" id=setServiceAt_rest><ul class=raises> <li><a href="/reference/modules/co/NoSuchPortException" class=nc>co.NoSuchPortException</a> if <code>receptacle</code> is invalid.</li> <li><a href="/reference/modules/co/IllegalCastException" class=nc>co.IllegalCastException</a> if <code>service</code> is invalid for the <code>receptacle</code>.</li> <li><a href="/reference/modules/co/IllegalStateException" class=nc>co.IllegalStateException</a> if <code>receptacle</code> cannot be changed in the current object state.</li> </ul> </div></div></div></div><h2 id=_cpp><i class=icon-code></i> Embedded C++</h2><div class="hl code"><pre class=cpp>
<span class="cm">/*</span>
<span class="cm">    Returns the first service of type `T` provided by this object;</span>
<span class="cm">    or NULL if there is no service of type `T`.</span>
<span class="cm"> */</span>
<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span> <span class="kr">inline</span> <span class="n">T</span><span class="o">*</span> <span class="n">findService</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="n">T</span><span class="o">*&gt;</span><span class="p">(</span> <span class="n">findServiceByType</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">typeOf</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">get</span><span class="p">()</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm">    Returns the first service of type T provided by this object.</span>
<span class="cm">    Raises co.NoSuchPortException if there is no service of type `T`.</span>
<span class="cm"> */</span>
<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span> <span class="kr">inline</span> <span class="n">T</span><span class="o">*</span> <span class="n">getService</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="n">T</span><span class="o">*&gt;</span><span class="p">(</span> <span class="n">getServiceByType</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">typeOf</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;::</span><span class="n">get</span><span class="p">()</span> <span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm">    Returns the service at port `portName` in this object;</span>
<span class="cm">    or NULL if there&#39;s no port named `portName`.</span>
<span class="cm">    __Note__ that NULL is also a valid value for a receptacle.</span>
<span class="cm"> */</span>
<span class="kr">inline</span> <span class="n">IService</span><span class="o">*</span> <span class="n">findService</span><span class="p">(</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">portName</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">findServiceByName</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">portName</span> <span class="p">);</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm">    Returns the service at port `portName` in this object;</span>
<span class="cm">    Raises co.NoSuchPortException if there&#39;s no port named `portName`.</span>
<span class="cm"> */</span>
<span class="kr">inline</span> <span class="n">IService</span><span class="o">*</span> <span class="n">getService</span><span class="p">(</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">portName</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">getServiceByName</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">portName</span> <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Binds a `service` to the receptacle named `receptacleName`.</span>
<span class="kr">inline</span> <span class="kt">void</span> <span class="n">setService</span><span class="p">(</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span> <span class="n">receptacleName</span><span class="p">,</span> <span class="n">IService</span><span class="o">*</span> <span class="n">service</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">setServiceByName</span><span class="p">(</span> <span class="k">this</span><span class="p">,</span> <span class="n">receptacleName</span><span class="p">,</span> <span class="n">service</span> <span class="p">);</span>
<span class="p">}</span></pre></div></div></div></div><footer class=footer><div class=container><p>Code licensed under the<a href="https://raw.github.com/coral-framework/coral/master/LICENSE" target=_blank> MIT License</a>. Documentation licensed under<a href="//creativecommons.org/licenses/by-sa/4.0/" target=_blank> CC BY-SA</a>.</p><ul class=list-inline><li>Currently v0.8.0</li><li>·</li><li><a href="/about"> About</a></li><li>·</li><li><a href="https://github.com/coral-framework/coral"> GitHub</a></li><li>·</li><li><a href="https://github.com/coral-framework/coral/issues"> Issues</a></li><li>·</li><li><a href="https://github.com/coral-framework/coral/releases"> Releases</a></li></ul></div></footer><script src="//code.jquery.com/jquery-2.1.0.min.js"></script><script src="../../../../assets/javascripts/script.js"></script></body></html>