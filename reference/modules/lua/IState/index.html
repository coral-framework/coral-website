<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta content="width=device-width, initial-scale=1.0" name=viewport><title>lua.IState | Coral · Reference · Modules · Lua (lua)</title><link href="../../../../assets/stylesheets/style.css" media=screen rel=stylesheet /></meta></meta></head><body class="reference reference_modules reference_modules_lua reference_modules_lua_IState reference_modules_lua_IState_index"><header class="navbar navbar-default navbar-fixed-top" role=navigation><div class=container><div class=navbar-header><button class=navbar-toggle data-target=".navbar-collapse" data-toggle=collapse type=button><span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button><a class=brand href="/"><img class=brand src="../../../../assets/images/coral-logo.svg"/></a></div><nav class="collapse navbar-collapse" role=navigation><ul class="nav navbar-nav"><li><a href="/guides/getting-started"><i class=icon-enter></i> Get Started</a></li><li><a href="/guides"><i class=icon-book></i> Guides</a></li><li class=active><a href="/reference"><i class=icon-gears></i> Reference</a></li><li><a href="/community"><i class=icon-users></i> Community</a></li></ul><div class=navbar-right id=search-widget><i class=icon-search></i><input class="form-control searchbox" placeholder="Search the API and Pages — press 's'"/></div></nav></div></header><div class=container><div class=row><div class="col-md-3 hidden-print" role=complementary><div class=sidebar><div class=api id=toc><ul class="nav level-1"><li><a href="#_top">lua.IState</a></li><ul class="nav level-2"><li><a href="#_hierarchy"><i class=icon-hierarchy></i> Hierarchy</a></li><li><a href="#_fields"><i class=icon-field></i> Fields</a><ul class="nav level-3"><li><a class=mono href="#interceptors">interceptors</a></li></ul></li><li><a href="#_methods"><i class=icon-method></i> Methods</a><ul class="nav level-3"><li><a class=mono href="#addInterceptor">addInterceptor</a></li><li><a class=mono href="#call">call</a></li><li><a class=mono href="#collectGarbage">collectGarbage</a></li><li><a class=mono href="#findScript">findScript</a></li><li><a class=mono href="#removeInterceptor">removeInterceptor</a></li></ul></li></ul></ul></div></div></div><div class=col-md-9 role=main><a id=_top></a><ol class=breadcrumb><li><a href="/"> Coral</a></li><li><a href="/reference">Reference</a></li><li><a href="/reference/modules">Modules</a></li><li><a href="/reference/modules/lua">Lua Module</a></li><li class=active>lua.IState</li></ol><div class=page-header><h1>lua.IState<small>interface</small></h1></div><div class=doc><p class=lead>For interfacing with Lua. The main Lua state is exposed as a global <a href="/reference/modules/lua/IState" class=nc><a href="/reference/modules/lua/IState" class=nc>lua.IState</a></a> service.</p> <div class=hl> </div></div><ul class=meta><li><i class="fa fa-fw fa-tags"></i><strong>Tags:</strong><ul class=tag-list></ul></li><li><i class="fa fa-fw fa-link"></i><strong>Referenced from 1 type</strong>: <a href="/reference/modules/lua/Universe" class=nc>lua.Universe</a>.</li></ul><h2 id=_hierarchy><i class=icon-hierarchy></i> Hierarchy</h2><div class=hierarchy><ul><li><span><a href="/reference/modules/co/IService" class=nc>co.IService</a></span>Base of all interfaces. Represents a service provided by an object. <ul><li><span><strong>lua.IState</strong></span>For interfacing with Lua. The main Lua state is exposed as a global lua.IState service. </li></ul></li></ul></div><h2 id=_fields><i class=icon-field></i> Fields</h2><div class=member-list><div class="member hl" id=interceptors><div class=proto><span class=k>readonly</span> <a href="/reference/modules/lua/IInterceptor" class=nc>lua.IInterceptor</a><span class=o>[]</span> <span class="heading nv">interceptors</span> </div><div class=doc><p class=lead>List of active interceptors.</p> </div></div></div><h2 id=_methods><i class=icon-method></i> Methods</h2><div class=member-list><div class="member hl" id=addInterceptor><div class=proto><p><span class=k>void</span> <span class="heading nf">addInterceptor</span><span class=paren>(</span><span class=k>in</span>&nbsp;<a href="/reference/modules/lua/IInterceptor" class=nc>lua.IInterceptor</a>&nbsp;<span class=nl>interceptor</span><span class=paren>)</span></p></div><div class=doc><p class=lead>Adds an interceptor at the end of the list.</p> </div></div><div class="member hl collapsible" id=call><div class=proto data-target="#call_rest" data-toggle=collapse><p><span class=k>int32</span> <span class="heading nf">call</span><span class=paren>(</span><span class=k>in</span>&nbsp;<span class=k>string</span>&nbsp;<span class=nl>moduleName</span>, <span class=k>in</span>&nbsp;<span class=k>string</span>&nbsp;<span class=nl>functionName</span>, <span class=k>in</span>&nbsp;<span class=k>any</span><span class=o>[]</span>&nbsp;<span class=nl>args</span>, <span class=k>in</span>&nbsp;<span class=k>any</span><span class=o>[]</span>&nbsp;<span class=nl>results</span><span class=paren>)</span></p></div><div class=doc><p class=lead>Calls a function from a Lua module.</p> <div class="collapse in" id=call_rest><p>This method is roughly equivalent to the following code in Lua: \code results = require( moduleName )<a href=args>functionName</a> \encode</p> <p>The module is obtained through “require” (so it is only loaded once) and must return either a function or a table containing functions. If the module returns a function, you must pass an empty \a functionName; otherwise, you should specify the name of the function to be called.</p> <p>The list of arguments passed to the function is given by \a args.</p> <p>If \a results is non-empty, it will be assigned with the results of the function call, up to either the number of returned values or the number of elements in \a results, whichever is smaller. Each element in \a results must be a valid output variable, and if a Lua value cannot be assigned to a var in \a results due to type incompatibilities, an exception is raised.</p> <p>\return the number of results actually returned by the function in Lua.</p> <p>\throw <a href="/reference/modules/lua/Exception" class=nc>lua.Exception</a> if no module exists with the given \a moduleName. \throw <a href="/reference/modules/lua/Exception" class=nc>lua.Exception</a> if functionName does not specify a valid function to be called. \throw <a href="/reference/modules/lua/Exception" class=nc>lua.Exception</a> if the function raises any Lua error. \throw co.Exception if the function raises any Coral exception using <tt>co.raise()</tt>. \throw <a href="/reference/modules/lua/Exception" class=nc>lua.Exception</a> if one of the function results could not be assigned to an output variable in \a results due to type incompatibilities.</p> </div><p><em>Raises undocumented exception <a href="/reference/modules/lua/Exception" class=nc>lua.Exception</a>.</em></p></div></div><div class="member hl" id=collectGarbage><div class=proto><p><span class=k>void</span> <span class="heading nf">collectGarbage</span><span class=paren>(</span><span class=paren>)</span></p></div><div class=doc><p class=lead>Invokes a full cycle of the Lua garbage collector.</p> </div></div><div class="member hl" id=findScript><div class=proto><p><span class=k>bool</span> <span class="heading nf">findScript</span><span class=paren>(</span><span class=k>in</span>&nbsp;<span class=k>string</span>&nbsp;<span class=nl>name</span>, <span class=k>out</span>&nbsp;<span class=k>string</span>&nbsp;<span class=nl>filename</span><span class=paren>)</span></p></div><div class=doc><p class=lead>Looks for a Lua script with the given \a name in the Coral path. The search follows the same conventions used for locating Lua modules. Returns false if there is no script with the given name.</p> </div></div><div class="member hl" id=removeInterceptor><div class=proto><p><span class=k>void</span> <span class="heading nf">removeInterceptor</span><span class=paren>(</span><span class=k>in</span>&nbsp;<a href="/reference/modules/lua/IInterceptor" class=nc>lua.IInterceptor</a>&nbsp;<span class=nl>interceptor</span><span class=paren>)</span></p></div><div class=doc><p class=lead>Removes the given interceptor from the list.</p> </div></div></div></div></div></div><footer class=footer><div class=container><p>Code licensed under the<a href="https://raw.github.com/coral-framework/coral/master/LICENSE" target=_blank> MIT License</a>. Documentation licensed under<a href="//creativecommons.org/licenses/by-sa/4.0/" target=_blank> CC BY-SA</a>.</p><ul class=list-inline><li>Currently v0.8.0</li><li>·</li><li><a href="/about"> About</a></li><li>·</li><li><a href="https://github.com/coral-framework/coral"> GitHub</a></li><li>·</li><li><a href="https://github.com/coral-framework/coral/issues"> Issues</a></li><li>·</li><li><a href="https://github.com/coral-framework/coral/releases"> Releases</a></li></ul></div></footer><script src="//code.jquery.com/jquery-2.1.0.min.js"></script><script src="../../../../assets/javascripts/script.js"></script></body></html>