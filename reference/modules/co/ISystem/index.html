<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta content="width=device-width, initial-scale=1.0" name=viewport><title>co.ISystem | Coral · Reference · Modules · Coral (co)</title><link href="../../../../assets/stylesheets/style.css" media=screen rel=stylesheet /></meta></meta></head><body class="reference reference_modules reference_modules_co reference_modules_co_ISystem reference_modules_co_ISystem_index"><header class="navbar navbar-default navbar-fixed-top" role=navigation><div class=container><div class=navbar-header><button class=navbar-toggle data-target=".navbar-collapse" data-toggle=collapse type=button><span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button><a class=brand href="/"><img class=brand src="../../../../assets/images/coral-logo.svg"/></a></div><nav class="collapse navbar-collapse" role=navigation><ul class="nav navbar-nav"><li><a href="/guides/getting-started"><i class=icon-enter></i> Get Started</a></li><li><a href="/guides"><i class=icon-book></i> Guides</a></li><li class=active><a href="/reference"><i class=icon-gears></i> Reference</a></li><li><a href="/community"><i class=icon-users></i> Community</a></li></ul><div class=navbar-right id=search-widget><i class=icon-search></i><input class="form-control searchbox" placeholder="Search the API and Pages — press 's'"/></div></nav></div></header><div class=container><div class=row><div class="col-md-3 hidden-print" role=complementary><div class=sidebar><div class=api id=toc><ul class="nav level-1"><li><a href="#_top">co.ISystem</a></li><ul class="nav level-2"><li><a href="#_hierarchy"><i class=icon-hierarchy></i> Hierarchy</a></li><li><a href="#_fields"><i class=icon-field></i> Fields</a><ul class="nav level-3"><li><a class=mono href="#modules">modules</a></li><li><a class=mono href="#services">services</a></li><li><a class=mono href="#state">state</a></li><li><a class=mono href="#types">types</a></li></ul></li><li><a href="#_methods"><i class=icon-method></i> Methods</a><ul class="nav level-3"><li><a class=mono href="#setupBase">setupBase</a></li><li><a class=mono href="#setupPresentation">setupPresentation</a></li><li><a class=mono href="#tearDown">tearDown</a></li></ul></li><li><a href="#_cpp"><i class=icon-code></i> Embedded C++</a></li></ul></ul></div></div></div><div class=col-md-9 role=main><a id=_top></a><ol class=breadcrumb><li><a href="/"> Coral</a></li><li><a href="/reference">Reference</a></li><li><a href="/reference/modules">Modules</a></li><li><a href="/reference/modules/co">Coral Module</a></li><li class=active>co.ISystem</li></ol><div class=page-header><h1>co.ISystem<small>interface</small></h1></div><div class=doc><p class=lead>Façade to the whole system. Controls the system’s life cycle.</p> <div class=hl><p>The Coral <em>system</em> coordinates the dynamic set of <a href="#modules" class=nv>modules</a>, <a href="#types" class=nv>types</a> and <a href="#services" class=nv>services</a> that compose a program at runtime.</p> <p>A <em>program</em> in Coral is a runtime composition of modules, types and services subject to the system’s life cycle.</p> <p>The system’s <em>life cycle</em> starts with a nil <a href="#state" class=nv>state</a>, as shown in the diagram below. From nil, the <em>set-up</em> process sets the system up and running by initializing and integrating modules. When the program is over, the <em>teardown</em> process resets the system to nil by disintegrating and disposing all modules. The grayed boxes in the center correspond to the <em>module events</em> that are triggered during a set-up/teardown cycle. <img alt="" title="The system's life cycle" class=centerfig src="../../../../assets/images/system-life-cycle.svg"/></p> <p>The <a href="/reference/modules/co/ISystem" class=nc>co.ISystem</a> service is Coral’s only <em>singleton</em>. See the documentation on <a href="/reference/languages/cpp#getSystem">how to obtain it in C++</a> or <a href="/reference/languages">another language</a>.</p> </div></div><ul class=meta><li><i class="fa fa-fw fa-tags"></i><strong>Tags:</strong><ul class=tag-list><li><a href="/reference/modules/co#system">System</a></li></ul></li><li><i class="fa fa-fw fa-link"></i><strong>Referenced from 0 types</strong>.</li></ul><h2 id=_hierarchy><i class=icon-hierarchy></i> Hierarchy</h2><div class=hierarchy><ul><li><span><a href="/reference/modules/co/IService" class=nc>co.IService</a></span>Base of all interfaces. Represents a service provided by an object. <ul><li><span><strong>co.ISystem</strong></span>Façade to the whole system. Controls the system’s life cycle. </li></ul></li></ul></div><h2 id=_fields><i class=icon-field></i> Fields</h2><div class=member-list><div class="member hl" id=modules><div class=proto><span class=k>readonly</span> <a href="/reference/modules/co/IModuleManager" class=nc>co.IModuleManager</a> <span class="heading nv">modules</span> </div><div class=doc><p class=lead>Façade to the module system, with methods to find and load modules.</p> </div></div><div class="member hl" id=services><div class=proto><span class=k>readonly</span> <a href="/reference/modules/co/IServiceManager" class=nc>co.IServiceManager</a> <span class="heading nv">services</span> </div><div class=doc><p class=lead>A global database where services are published and queried.</p> </div></div><div class="member hl" id=state><div class=proto><span class=k>readonly</span> <a href="/reference/modules/co/SystemState" class=nc>co.SystemState</a> <span class="heading nv">state</span> </div><div class=doc><p class=lead>The system’s current life-cycle state. See <a href="/reference/modules/co/SystemState" class=nc>co.SystemState</a>.</p> </div></div><div class="member hl" id=types><div class=proto><span class=k>readonly</span> <a href="/reference/modules/co/ITypeManager" class=nc>co.ITypeManager</a> <span class="heading nv">types</span> </div><div class=doc><p class=lead>Façade to the type system, with methods to find, load and create types.</p> </div></div></div><h2 id=_methods><i class=icon-method></i> Methods</h2><div class=member-list><div class="member hl collapsible" id=setupBase><div class=proto data-target="#setupBase_rest" data-toggle=collapse><p><span class=k>void</span> <span class="heading nf">setupBase</span><span class=paren>(</span><span class=k>in</span>&nbsp;<span class=k>string</span><span class=o>[]</span>&nbsp;<span class=nl>requiredModules</span><span class=paren>)</span></p></div><div class=doc><p class=lead>Loads all <code>requiredModules</code> (if any) and integrates the system.</p> <div class="collapse in" id=setupBase_rest><p>Must be called when the system’s <a href="#state" class=nv>state</a> is <a href="/reference/modules/co/SystemState#SystemState_None" class=no>SystemState_None</a>. This method changes <a href="#state" class=nv>state</a> to <a href="/reference/modules/co/SystemState#SystemState_Integrated" class=no>SystemState_Integrated</a> on success, or back to <a href="/reference/modules/co/SystemState#SystemState_None" class=no>SystemState_None</a> on exceptions.</p> <ul class=raises> <li><a href="/reference/modules/co/IllegalStateException" class=nc>co.IllegalStateException</a> if <a href="#state" class=nv>state</a> isn’t <a href="/reference/modules/co/SystemState#SystemState_None" class=no>SystemState_None</a>.</li> <li><a href="/reference/modules/co/ModuleLoadException" class=nc>co.ModuleLoadException</a> if loading one of the <code>requiredModules</code> fails.</li> </ul> </div></div></div><div class="member hl collapsible" id=setupPresentation><div class=proto data-target="#setupPresentation_rest" data-toggle=collapse><p><span class=k>void</span> <span class="heading nf">setupPresentation</span><span class=paren>(</span><span class=paren>)</span></p></div><div class=doc><p class=lead>Integrates the presentation layer and sets the system running.</p> <div class="collapse in" id=setupPresentation_rest><p>Must be called after <a href="#setupBase" class=nf>setupBase</a>. The system’s <a href="#state" class=nv>state</a> changes to <a href="/reference/modules/co/SystemState#SystemState_Running" class=no>SystemState_Running</a> on success.</p> <ul class=raises> <li><a href="/reference/modules/co/IllegalStateException" class=nc>co.IllegalStateException</a> if <a href="#state" class=nv>state</a> isn’t <a href="/reference/modules/co/SystemState#SystemState_Integrated" class=no>SystemState_Integrated</a>.</li> </ul> </div></div></div><div class="member hl collapsible" id=tearDown><div class=proto data-target="#tearDown_rest" data-toggle=collapse><p><span class=k>void</span> <span class="heading nf">tearDown</span><span class=paren>(</span><span class=paren>)</span></p></div><div class=doc><p class=lead>Disintegrates and disposes all modules.</p> <div class="collapse in" id=tearDown_rest><p>Must be called while the system is running. This resets the system’s <a href="#state" class=nv>state</a> to <a href="/reference/modules/co/SystemState#SystemState_None" class=no>SystemState_None</a>.</p> <ul class=raises> <li><a href="/reference/modules/co/IllegalStateException" class=nc>co.IllegalStateException</a> if <a href="#state" class=nv>state</a> isn’t <a href="/reference/modules/co/SystemState#SystemState_Running" class=no>SystemState_Running</a>.</li> </ul> </div></div></div></div><h2 id=_cpp><i class=icon-code></i> Embedded C++</h2><div class="hl code"><pre class=cpp>
<span class="c1">// Sets the system up and running without loading any modules.</span>
<span class="kr">inline</span> <span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span> <span class="p">{</span> <span class="n">setup</span><span class="p">(</span> <span class="n">Slice</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span><span class="p">()</span> <span class="p">);</span> <span class="p">}</span>

<span class="c1">// Sets the system up and running with the specified modules.</span>
<span class="kr">inline</span> <span class="kt">void</span> <span class="nf">setup</span><span class="p">(</span> <span class="n">Slice</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">requiredModules</span> <span class="p">)</span>
<span class="p">{</span>
    <span class="n">setupBase</span><span class="p">(</span> <span class="n">requiredModules</span> <span class="p">);</span>
    <span class="n">setupPresentation</span><span class="p">();</span>
<span class="p">}</span></pre></div></div></div></div><footer class=footer><div class=container><p>Code licensed under the<a href="https://raw.github.com/coral-framework/coral/master/LICENSE" target=_blank> MIT License</a>. Documentation licensed under<a href="//creativecommons.org/licenses/by-sa/4.0/" target=_blank> CC BY-SA</a>.</p><ul class=list-inline><li>Currently v0.8.0</li><li>·</li><li><a href="/about"> About</a></li><li>·</li><li><a href="https://github.com/coral-framework/coral"> GitHub</a></li><li>·</li><li><a href="https://github.com/coral-framework/coral/issues"> Issues</a></li><li>·</li><li><a href="https://github.com/coral-framework/coral/releases"> Releases</a></li></ul></div></footer><script src="//code.jquery.com/jquery-2.1.0.min.js"></script><script src="../../../../assets/javascripts/script.js"></script></body></html>